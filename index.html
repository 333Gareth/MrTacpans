<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mr Tacpans Game Of Games</title>
    <!-- Load Tailwind CSS --><script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Base styles for the 3D cube setup */
        .dice-container {
            width: 100px;
            height: 100px;
            perspective: 500px; /* How strong the 3D effect appears */
        }
        
        .dice-cube {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            /* Shorter transition for the final snap from tumble to result */
            transition: transform 0.5s ease-out; 
        }

        .dice-face {
            position: absolute;
            width: 100px;
            height: 100px;
            border: 4px solid #f59e0b; /* yellow-500 border */
            background-color: white;
            color: #111827; /* gray-900 text */
            font-size: 5rem; /* Large font size for pips */
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 12px;
            line-height: 1; /* Center the unicode character vertically */
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1); /* Subtle shadow */
        }

        /* ------------------
           FACE POSITIONS (The orientation of each face relative to the center)
        --------------------*/
        .face-1 { transform: rotateY(0deg) translateZ(50px); }
        .face-6 { transform: rotateY(180deg) translateZ(50px); }
        .face-2 { transform: rotateX(90deg) translateZ(50px); }
        .face-5 { transform: rotateX(-90deg) translateZ(50px); }
        .face-3 { transform: rotateY(-90deg) translateZ(50px); }
        .face-4 { transform: rotateY(90deg) translateZ(50px); }
        
        /* ------------------
           FINAL ROTATIONS (The rotation required to show a specific face on top)
        --------------------*/
        .show-1 { transform: translateZ(-50px) rotateX(0deg) rotateY(0deg) rotateZ(0deg); }
        .show-6 { transform: translateZ(-50px) rotateX(0deg) rotateY(180deg) rotateZ(0deg); }
        .show-2 { transform: translateZ(-50px) rotateX(-90deg) rotateY(0deg) rotateZ(0deg); }
        .show-5 { transform: translateZ(-50px) rotateX(90deg) rotateY(0deg) rotateZ(0deg); }
        .show-3 { transform: translateZ(-50px) rotateX(0deg) rotateY(90deg) rotateZ(0deg); }
        .show-4 { transform: translateZ(-50px) rotateX(0deg) rotateY(-90deg) rotateZ(0deg); }
        
        /* ------------------
           ANIMATION (Rolling Tumble)
        --------------------*/
        @keyframes tumble {
            0% { transform: translateZ(-50px) rotateX(0deg) rotateY(0deg); }
            100% { 
                /* Increased Tumbling effect: from 3 (1080deg) to 5 (1800deg) full rotations for faster spin */
                transform: translateZ(-50px) rotateX(1800deg) rotateY(1800deg) rotateZ(360deg); 
            }
        }

        .rolling .dice-cube {
            /* Apply the tumble animation, 2 seconds duration */
            animation: tumble 2s linear forwards; 
        }

        /* Body background with the provided image */
        body {
            background-image: url('https://raw.githubusercontent.com/333Gareth/MrTacpans/main/Tacpans_myan.png') !important; 
            background-size: cover !important; 
            background-position: center !important; 
            background-repeat: no-repeat !important; 
            background-attachment: fixed !important; 
            background-color: #1f2937 !important; 
        }
    </style>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                }
            }
        }
    </script>
</head>
<body class="min-h-screen flex flex-col items-center justify-center p-4 font-sans">

    <div class="max-w-md w-full bg-gray-800 bg-opacity-90 p-8 rounded-xl shadow-2xl text-center">
        <h1 class="text-3xl font-bold text-white mb-6">üé≤ Mr Tacpans Game Of Games üé≤</h1>

        <!-- 3D Dice Container -->
        <div id="dice-wrapper" class="dice-container mx-auto mb-8 flex items-center justify-center">
            <div id="dice-container" class="dice-cube">
                <!-- Face 1 -->
                <div class="dice-face face-1" data-result="1">‚öÄ</div>
                <!-- Face 2 -->
                <div class="dice-face face-2" data-result="2">‚öÅ</div>
                <!-- Face 3 -->
                <div class="dice-face face-3" data-result="3">‚öÇ</div>
                <!-- Face 4 -->
                <div class="dice-face face-4" data-result="4">‚öÉ</div>
                <!-- Face 5 -->
                <div class="dice-face face-5" data-result="5">‚öÑ</div>
                <!-- Face 6 -->
                <div class="dice-face face-6" data-result="6">‚öÖ</div>
            </div>
        </div>
        <!-- End 3D Dice Container -->


        <!-- Result Text --><p id="result-text" class="text-xl text-yellow-300 font-semibold mb-8">
            Click the button to roll!
        </p>

        <!-- Roll Button --><button id="roll-button" 
                class="w-full py-3 px-6 
                       bg-yellow-600 hover:bg-yellow-500 
                       text-gray-900 font-bold text-lg 
                       rounded-xl shadow-lg transition duration-200 
                       transform active:scale-95 disabled:opacity-50">
            Roll the Dice!
        </button>
        
        <div id="loading-indicator" class="hidden mt-4 text-sm text-yellow-400">Rolling...</div>
    </div>

    <script>
        // DOM Elements
        const diceWrapper = document.getElementById('dice-wrapper');
        const diceCube = document.getElementById('dice-container');
        const rollButton = document.getElementById('roll-button');
        const resultText = document.getElementById('result-text');
        const loadingIndicator = document.getElementById('loading-indicator');
        
        // Define number of sides for the dice
        const NUM_SIDES = 6;
        const TUMBLE_DURATION = 2000; // Must match CSS animation duration (2.0s)
        const SNAP_DURATION = 500;    // Must match CSS transition duration (0.5s)

        // Mapping from result number to the required CSS class for final rotation
        const rotationClasses = {
            1: 'show-1',
            2: 'show-2',
            3: 'show-3',
            4: 'show-4',
            5: 'show-5',
            6: 'show-6',
        };
        
        // Custom information for each dice result
        const factMap = {
            1: "You rolled a One (‚öÄ)! The pole. One is the most common result when rolling a single die, statistically speaking, as it has the same probability as any other number.",
            2: "You rolled a Two (‚öÅ)! Two is the smallest prime number and the only even prime number.",
            3: "You rolled a Three (‚öÇ)! Three is known as the perfect number in numerology, representing harmony and wisdom.",
            4: "You rolled a Four (‚öÉ)! Four is the smallest composite number, and the number of sides on a tetrahedron (a four-sided die).",
            5: "You rolled a Five (‚öÑ)! Five is a Fibonacci number, and the average number of teeth on a star-fish!",
            6: "You rolled a Six (‚öÖ)! Six is the highest number on a standard die, and the first perfect number (a number equal to the sum of its proper positive divisors).",
        };


        /**
         * Cleans up existing rotation classes on the cube.
         */
        function resetCubeRotation() {
            Object.values(rotationClasses).forEach(cls => {
                diceCube.classList.remove(cls);
            });
        }

        /**
         * Simulates a dice roll, updates the UI, and applies a visual effect.
         */
        function rollDice() {
            // Check if a roll is already in progress
            if (rollButton.disabled) return;

            // Disable button and show loading for effect
            rollButton.disabled = true;
            loadingIndicator.classList.remove('hidden');
            resultText.textContent = "Rolling...";

            // 1. Generate a random result
            const finalResult = Math.floor(Math.random() * NUM_SIDES) + 1;
            
            // 2. Prepare the cube for rolling
            resetCubeRotation();
            diceCube.classList.add('rolling'); // Start tumble animation
            
            
            setTimeout(() => {
                // 3. Stop the tumble animation
                // This removes the animation property, allowing CSS transition to take over
                diceCube.classList.remove('rolling'); 
                
                // 4. Apply the final rotation class
                const finalRotationClass = rotationClasses[finalResult];
                diceCube.classList.add(finalRotationClass);
                
                // 5. Update text and state after the snap/tumble is complete
                // Wait for the short SNAP_DURATION to ensure the final face is visible
                setTimeout(() => {
                    const fact = factMap[finalResult] || `You rolled a: ${finalResult}!`;
                    resultText.textContent = fact;
                    rollButton.disabled = false;
                    loadingIndicator.classList.add('hidden');
                }, SNAP_DURATION); 

            }, TUMBLE_DURATION);
        }

        // --- Event Listeners ---
        rollButton.addEventListener('click', rollDice);
        diceWrapper.addEventListener('click', rollDice); // Clicking the dice area also rolls it

        // Initial state update
        document.addEventListener('DOMContentLoaded', () => {
             // Set a default rotation to '1' on load
             diceCube.classList.add('show-1'); 
        });

    </script>
</body>
</html>
